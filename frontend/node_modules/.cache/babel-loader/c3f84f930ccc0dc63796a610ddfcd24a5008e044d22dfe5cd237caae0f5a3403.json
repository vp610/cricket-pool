{"ast":null,"code":"import React,{useEffect,useState}from'react';import{useParams,useNavigate}from'react-router-dom';// Replace with actual API data\nimport{useAuth}from'../../contexts/AuthContext';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export function TournamentPage(){const{user}=useAuth();const{tournamentId}=useParams();const[pools,setPools]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);const navigate=useNavigate();useEffect(()=>{if(!(user!==null&&user!==void 0&&user.id)){return;}const fetchPoolsForTournament=async()=>{try{const response=await axios.get(`${process.env.REACT_APP_API_URL}/api/tournament/pools/${tournamentId}`);setPools(response.data);}catch(err){if(axios.isAxiosError(err)&&err.response){setError(err.response.data);}else{setError('Error fetching pools');}}finally{setLoading(false);}};if(user){fetchPoolsForTournament();}},[tournamentId]);const handleJoin=poolId=>{navigate(`/pool/join/${poolId}`);};const handleView=poolId=>{navigate(`/pool/${poolId}`);};if(loading)return/*#__PURE__*/_jsx(\"div\",{children:\"Loading pools...\"});if(error)return/*#__PURE__*/_jsxs(\"div\",{children:[\"Error: \",error]});return/*#__PURE__*/_jsx(\"div\",{className:\"bg-gray-100 min-h-screen py-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container mx-auto px-4 py-8\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-4xl font-bold text-gray-800 mb-6 text-center\",children:\"Pools for Tournament\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\",children:pools.length>0?pools.map(pool=>/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-md p-6 hover:shadow-lg transition-shadow duration-300 transform hover:-translate-y-1\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-2xl font-bold text-gray-800 mb-2\",children:pool.name}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mb-4\",children:pool.status?'Active':'Inactive'}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-500 mb-4\",children:[\"Participants: \",pool.participants]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-500 mb-4\",children:[\"Ends on: \",pool.endDate]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleJoin(pool.id),className:\"bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700 transition-colors duration-300\",children:\"Join Pool\"})]},pool.id)):/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"No pools are currently available for this tournament.\"})})]})});}","map":{"version":3,"names":["React","useEffect","useState","useParams","useNavigate","useAuth","axios","jsx","_jsx","jsxs","_jsxs","TournamentPage","user","tournamentId","pools","setPools","loading","setLoading","error","setError","navigate","id","fetchPoolsForTournament","response","get","process","env","REACT_APP_API_URL","data","err","isAxiosError","handleJoin","poolId","handleView","children","className","length","map","pool","name","status","participants","endDate","onClick"],"sources":["/Users/Vaidik/Desktop/fantasyPool/frontend/src/components/Tournament/TournamentPage.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { Pool } from '../../types';\nimport { dummyPools } from '../../data/pools'; // Replace with actual API data\nimport { useAuth } from '../../contexts/AuthContext';\nimport axios from 'axios';\n\nexport function TournamentPage() {\n  const { user } = useAuth();\n  const { tournamentId } = useParams<{ tournamentId: string }>();\n  const [pools, setPools] = useState<Pool[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    if (!user?.id) {\n      return;\n    }\n\n    const fetchPoolsForTournament = async () => {\n      try {\n        const response = await axios.get(`${process.env.REACT_APP_API_URL}/api/tournament/pools/${tournamentId}`);\n        setPools(response.data);\n      } catch (err) {\n        if (axios.isAxiosError(err) && err.response) {\n          setError(err.response.data);\n        } else {\n          setError('Error fetching pools');\n        }\n      } finally {\n        setLoading(false);\n      }\n    };\n    if (user){\n      fetchPoolsForTournament();\n    }\n  }, [tournamentId]);\n\n  const handleJoin = (poolId: string) => {\n    navigate(`/pool/join/${poolId}`);  \n  };\n\n  const handleView = (poolId: string) => {\n    navigate(`/pool/${poolId}`);\n  }\n\n  if (loading) return <div>Loading pools...</div>;\n  if (error) return <div>Error: {error}</div>;\n\n  return (\n    <div className=\"bg-gray-100 min-h-screen py-8\">\n      <div className=\"container mx-auto px-4 py-8\">\n        <h2 className=\"text-4xl font-bold text-gray-800 mb-6 text-center\">\n          Pools for Tournament\n        </h2>\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n          {pools.length > 0 ? (\n            pools.map(pool => (\n              <div\n                key={pool.id}\n                className=\"bg-white rounded-lg shadow-md p-6 hover:shadow-lg transition-shadow duration-300 transform hover:-translate-y-1\"\n              >\n                <h3 className=\"text-2xl font-bold text-gray-800 mb-2\">{pool.name}</h3>\n                <p className=\"text-gray-600 mb-4\">{pool.status ? 'Active' : 'Inactive'}</p>\n                <p className=\"text-gray-500 mb-4\">Participants: {pool.participants}</p>\n                <p className=\"text-gray-500 mb-4\">Ends on: {pool.endDate}</p>\n                <button\n                  onClick={() => handleJoin(pool.id)}\n                  className=\"bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700 transition-colors duration-300\"\n                >\n                  Join Pool\n                </button>\n              </div>\n            ))\n          ) : (\n            <p className=\"text-gray-600\">No pools are currently available for this tournament.</p>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}